"use client";
import { DataGrid } from "@mui/x-data-grid";

// TODO
const autoEvalCol = [
  { field: "id", headerName: "ID", width: 50 },
  { field: "isCorrect", headerName: "是否正确", width: 70 },
  { field: "type", headerName: "类型", width: 150 },
  { field: "question", headerName: "问题", width: 300 },
  { field: "generatedAnswer", headerName: "生成答案", width: 120 },
  { field: "correctAnswer", headerName: "正确答案", width: 120 },
  { field: "optionA", headerName: "选项 A", width: 100 },
  { field: "optionB", headerName: "选项 B", width: 100 },
  { field: "optionC", headerName: "选项 C", width: 100 },
  { field: "optionD", headerName: "选项 D", width: 100 },
];

// TODO: examples
const exampleAutoEvalRows = [
  {
    id: 1,
    isCorrect: "❌",
    type: "abstract_algebra",
    question: "The cyclic subgroup of Z_24 generated by 18 has order",
    generatedAnswer: "B",
    correctAnswer: "A",
    optionA: "4",
    optionB: "8",
    optionC: "12",
    optionD: "6",
  },
  {
    id: 2,
    isCorrect: "✅",
    type: "abstract_algebra",
    question:
      "Statement 1 | A permutation that is a product of m even permutations and n odd permutations is an even permutation if and only if n is even. Statement 2 | Every group is isomorphic to a group of permutations.",
    generatedAnswer: "A",
    correctAnswer: "A",
    optionA: "True, True",
    optionB: "False, False",
    optionC: "True, False",
    optionD: "False, True",
  },
  {
    id: 3,
    isCorrect: "✅",
    type: "college_computer_science",
    question:
      "Sometimes the object module produced by a compiler includes information (from the symbol table) mapping all source program names to their addresses. The most likely purpose of this information is",
    generatedAnswer: "A",
    correctAnswer: "A",
    optionA: "for use as input to a debugging aid",
    optionB: "to increase the run-time efficiency of the program",
    optionC:
      "for the reduction of the symbol-table space needed by the compiler",
    optionD: "to tell the loader where each variable belongs",
  },
];

const humanEvalCol = [
  { field: "id", headerName: "ID", minWidth: 50, flex: 0.1 },
  { field: "isCorrect", headerName: "人类评测", minWidth: 80, flex: 0.1 },
  { field: "type", headerName: "类型", minWidth: 150, flex: 0.15 },
  { field: "question", headerName: "问题", minWidth: 300, flex: 1 },
  { field: "generatedAnswer", headerName: "生成答案", minWidth: 300, flex: 1 },
];

const exampleHumanEvalRows = [
  {
    id: 1,
    isCorrect: "✅",
    type: "事实问答",
    question: "谁是蝙蝠侠",
    generatedAnswer:
      "蝙蝠侠（Batman）是一位虚构的超级英雄，首次出现在美国DC漫画的《侦探漫画#27》（1939年5月）。蝙蝠侠是由艺术家鲍勃·凯恩和作家比尔·芬格创造的。蝙蝠侠的真实身份是布鲁斯·韦恩（Bruce Wayne），他是一个富有的企业家、慈善家和继承了庞大家产的亿万富翁。在经历了童年时期亲眼目睹父母被枪杀的悲剧后，他发誓要为正义而战，保护哥谭市（Gotham City）的市民免受犯罪分子的侵害。他通过智慧、技巧、武器和先进的技术手段来打击犯罪。虽然蝙蝠侠没有超能力，但他的力量、敏捷、智慧和意志力使他成为了一位出色的超级英雄。",
  },
  {
    id: 2,
    isCorrect: "✅",
    type: "事实问答",
    question: "1955 年谁是美国总统",
    generatedAnswer:
      "1955年的美国总统是德怀特·D·艾森豪威尔（Dwight D. Eisenhower）。艾森豪威尔在1953年至1961年间担任美国总统，任内共服务了两个任期。在成为总统之前，他是一名杰出的军事领导人，曾担任盟军在欧洲战场的最高统帅，带领盟军赢得了二战的胜利。",
  },
  {
    id: 3,
    isCorrect: "✅",
    type: "事实问答,医学",
    question: "截至2017年，全球1岁的儿童中有多少已接种某种疾病的疫苗？",
    generatedAnswer:
      "根据2017年世界卫生组织（WHO）的数据，全球约有85%的1岁儿童接种了至少一种疫苗，如百日咳、脊髓灰质炎和麻疹疫苗。然而，这个比例可能在不同国家和地区之间有所差异。为了更准确地了解某个国家或地区的疫苗接种率，请查阅当地卫生部门或世界卫生组织提供的最新数据。",
  },
];

const comparativeEvalCol = [
  { field: "id", headerName: "ID", minWidth: 50, flex: 0.1 },
  { field: "score", headerName: "分数", minWidth: 80, flex: 0.1 },
  { field: "type", headerName: "类型", minWidth: 150, flex: 0.15 },
  { field: "question", headerName: "问题", minWidth: 300, flex: 1 },
  { field: "generatedAnswer", headerName: "生成答案", minWidth: 300, flex: 1 },
];

const exampleComparativeEvalRows = [
  {
    id: 1,
    score: 1,
    type: "事实问答",
    question: "谁是蝙蝠侠",
    generatedAnswer:
      "蝙蝠侠（Batman）是一位虚构的超级英雄，首次出现在美国DC漫画的《侦探漫画#27》（1939年5月）。蝙蝠侠是由艺术家鲍勃·凯恩和作家比尔·芬格创造的。蝙蝠侠的真实身份是布鲁斯·韦恩（Bruce Wayne），他是一个富有的企业家、慈善家和继承了庞大家产的亿万富翁。在经历了童年时期亲眼目睹父母被枪杀的悲剧后，他发誓要为正义而战，保护哥谭市（Gotham City）的市民免受犯罪分子的侵害。他通过智慧、技巧、武器和先进的技术手段来打击犯罪。虽然蝙蝠侠没有超能力，但他的力量、敏捷、智慧和意志力使他成为了一位出色的超级英雄。",
  },
  {
    id: 2,
    score: 0,
    type: "事实问答",
    question: "1955 年谁是美国总统",
    generatedAnswer:
      "1955年的美国总统是德怀特·D·艾森豪威尔（Dwight D. Eisenhower）。艾森豪威尔在1953年至1961年间担任美国总统，任内共服务了两个任期。在成为总统之前，他是一名杰出的军事领导人，曾担任盟军在欧洲战场的最高统帅，带领盟军赢得了二战的胜利。",
  },
];

export default function ResultTable({ type }) {
  let rows = [];
  let columns = [];
  if (type == 0) {
    rows = exampleAutoEvalRows;
    columns = autoEvalCol;
  } else if (type == 1) {
    rows = exampleHumanEvalRows;
    columns = humanEvalCol;
  } else if (type == 2) {
    rows = exampleComparativeEvalRows;
    columns = comparativeEvalCol;
  }
  return (
    <div className="collapse collapse-arrow border bg-white">
      <input type="checkbox" />
      <div className="collapse-title flex items-center space-x-3">
        <div className="font-mono text-xl font-bold">GPT-4</div>
        <div className="font-medium text-gray-400">正确率66%</div>
      </div>
      <div className="collapse-content overflow-x-auto">
        <DataGrid
          // choose rows and columns based on type
          rows={rows}
          columns={columns}
          initialState={{
            pagination: {
              paginationModel: { page: 0, pageSize: 5 },
            },
          }}
          pageSizeOptions={[5, 10]}
        />
      </div>
    </div>
  );
}
